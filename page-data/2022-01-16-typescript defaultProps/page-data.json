{
    "componentChunkName": "component---src-components-post-template-tsx",
    "path": "/2022-01-16-typescript defaultProps/",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h2 id=\"defaultprops를-typescript환경에서-쓸-때-문제가-좀-있어요\" style=\"position:relative;\"><a href=\"#defaultprops%EB%A5%BC-typescript%ED%99%98%EA%B2%BD%EC%97%90%EC%84%9C-%EC%93%B8-%EB%95%8C-%EB%AC%B8%EC%A0%9C%EA%B0%80-%EC%A2%80-%EC%9E%88%EC%96%B4%EC%9A%94\" aria-label=\"defaultprops를 typescript환경에서 쓸 때 문제가 좀 있어요 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>defaultProps를 typescript환경에서 쓸 때 문제가 좀 있어요</h2>\n<p>회사에서 <code class=\"language-text\">optional</code>한 값을 <code class=\"language-text\">parameter</code>로 받아서 구현한 컴포넌트가 있었는데, <code class=\"language-text\">defaultProps</code>로 구현을 하고 pr을 올렸다.</p>\n<blockquote>\n<p>🙋‍♂️ defaultProps를 typescript환경에서 쓸 때 문제가 좀 있어서요,</p>\n</blockquote>\n<p>라는 리뷰를 받았었다. <code class=\"language-text\">React.FC</code>에서 <code class=\"language-text\">defaultProps</code>가 제대로 동작하지 않는다는 이슈는 알고 있었는데, <code class=\"language-text\">defaultProps</code>에 대한 이슈는 처음 들어봤다.</p>\n<p>그래서 해당 내용을 찾아보면서 <code class=\"language-text\">default parameter</code>로 변경을 했고, 이 내용에 대해 정리해보고자 한다.</p>\n<br/>\n<br/>\n<p><strong>먼저, 처음에 올린 pr의 예시 : <code class=\"language-text\">defaultProps</code> 를 썼다.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">Props</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">?</span><span class=\"token operator\">:</span> string<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">Hello</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> name <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span>Props</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span><span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>hello <span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\nHello<span class=\"token punctuation\">.</span>defaultProps <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> 'world\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Hello<span class=\"token punctuation\">;</span></code></pre></div>\n<br/>\n<p><strong>리뷰 받고 변경한 내용 : <code class=\"language-text\">default parameter</code> 로 변경했다.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">Props</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">?</span><span class=\"token operator\">:</span> string<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">Hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'world'</span> <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span>Props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span><span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>hello <span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Hello<span class=\"token punctuation\">;</span></code></pre></div>\n<br/>\n<br/>\n<h2 id=\"react-typescript-에서-defaultprops에-대한-논의\" style=\"position:relative;\"><a href=\"#react-typescript-%EC%97%90%EC%84%9C-defaultprops%EC%97%90-%EB%8C%80%ED%95%9C-%EB%85%BC%EC%9D%98\" aria-label=\"react typescript 에서 defaultprops에 대한 논의 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>react typescript 에서 defaultProps에 대한 논의</h2>\n<p><a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/issues/11640\">https://github.com/DefinitelyTyped/DefinitelyTyped/issues/11640</a></p>\n<p>defaultProps에 대한 논의 - 2016년에 열려서 2019년에 닫혔다.꽤 오랬동안 진행됐던 걸로 보인다.</p>\n<p>typescript3 에서 JSX에서 defaultProps를 지원한다고 하면서 닫혔다.</p>\n<br/>\n<br/>\n<h2 id=\"typescript-30-부터-defaultprops를-지원한대요\" style=\"position:relative;\"><a href=\"#typescript-30-%EB%B6%80%ED%84%B0-defaultprops%EB%A5%BC-%EC%A7%80%EC%9B%90%ED%95%9C%EB%8C%80%EC%9A%94\" aria-label=\"typescript 30 부터 defaultprops를 지원한대요 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>typescript 3.0 부터 defaultProps를 지원한대요!</h2>\n<p>typescript 3.0에 jsx에서 defaultProps를 지원한다는 내용이 추가되었다.\n<a href=\"https://github.com/Microsoft/TypeScript/wiki/What%27s-new-in-TypeScript#support-for-defaultprops-in-jsx\">github - microsoft/typescript</a></p>\n<p><img src=\"https://user-images.githubusercontent.com/51187540/149651068-9edb2c7b-488c-4c19-9692-e6bf2a1b56fa.png\" alt=\"image\"></p>\n<br/>\n<br/>\n<h2 id=\"앗-그래도-여전히-남아있는-이슈\" style=\"position:relative;\"><a href=\"#%EC%95%97-%EA%B7%B8%EB%9E%98%EB%8F%84-%EC%97%AC%EC%A0%84%ED%9E%88-%EB%82%A8%EC%95%84%EC%9E%88%EB%8A%94-%EC%9D%B4%EC%8A%88\" aria-label=\"앗 그래도 여전히 남아있는 이슈 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>앗, 그래도 여전히 남아있는 이슈</h2>\n<p>하지만, 여전히 문제가 있다. <a href=\"https://react-typescript-cheatsheet.netlify.app/docs/basic/getting-started/default_props/\">react typescript cheatsheet</a></p>\n<blockquote>\n<p>If your components Props interface extends another interface, defaultProps still doesn't work in TS3\n<a href=\"https://github.com/typescript-cheatsheets/react/issues/61\">링크</a></p>\n</blockquote>\n<p>다른 interface를 상속한 interface를 component의 props로 쓰면 여전히 defaultProps가 동작하지 않는다는 이슈가 있다고 한다.</p>\n<p>위 링크에 첨부되어 있는 예시코드에서 한 줄만 추가해서 돌려봤다.\n<code class=\"language-text\">el_1</code> 의 경우 <code class=\"language-text\">defaultProps</code> 가 잘 동작하는 것을 볼 수 있었고, <code class=\"language-text\">el_2</code>의 경우 <code class=\"language-text\">GreetComponent</code>의 타입으로 props를 받았음에도 타입추론을 제대로 하지 못하는 것을 알 수 있다.</p>\n<p><img src=\"https://user-images.githubusercontent.com/51187540/149650437-e9b43393-9254-48a2-891a-77ae89c3a7a7.png\" alt=\"image\"></p>\n<br/>\n<br/>\n<h2 id=\"defaultprops-deprecate-예정\" style=\"position:relative;\"><a href=\"#defaultprops-deprecate-%EC%98%88%EC%A0%95\" aria-label=\"defaultprops deprecate 예정 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>defaultProps deprecate 예정</h2>\n<p>defaultProps 도 함수형 컴포넌트에서 사용이 중단될 예정이라고 하니 기본 파라미터를 사용하자...</p>\n<ul>\n<li><a href=\"https://github.com/reactjs/rfcs/pull/107\">github - RFC</a></li>\n<li><a href=\"https://twitter.com/dan_abramov/status/1133878326358171650\">dan의 트윗</a></li>\n</ul>\n<p>사실 tyepscript 문서에서도 함수형 컴포넌트에서는 default parameter를 사용하라고 한다. functional component에서 defaultProps는 권장되지 않는다고 한다...ㅎㅎ\n<img src=\"https://user-images.githubusercontent.com/51187540/149652205-6f2c0627-2bd0-4858-85e0-47e657133fdc.png\" alt=\"image\"></p>","frontmatter":{"title":"react typescript 에서의 defaultProps"},"fields":{"slug":"/2022-01-16-typescript defaultProps/"},"tableOfContents":"<ul>\n<li><a href=\"#defaultprops%EB%A5%BC-typescript%ED%99%98%EA%B2%BD%EC%97%90%EC%84%9C-%EC%93%B8-%EB%95%8C-%EB%AC%B8%EC%A0%9C%EA%B0%80-%EC%A2%80-%EC%9E%88%EC%96%B4%EC%9A%94\">defaultProps를 typescript환경에서 쓸 때 문제가 좀 있어요</a></li>\n<li><a href=\"#react-typescript-%EC%97%90%EC%84%9C-defaultprops%EC%97%90-%EB%8C%80%ED%95%9C-%EB%85%BC%EC%9D%98\">react typescript 에서 defaultProps에 대한 논의</a></li>\n<li><a href=\"#typescript-30-%EB%B6%80%ED%84%B0-defaultprops%EB%A5%BC-%EC%A7%80%EC%9B%90%ED%95%9C%EB%8C%80%EC%9A%94\">typescript 3.0 부터 defaultProps를 지원한대요!</a></li>\n<li><a href=\"#%EC%95%97-%EA%B7%B8%EB%9E%98%EB%8F%84-%EC%97%AC%EC%A0%84%ED%9E%88-%EB%82%A8%EC%95%84%EC%9E%88%EB%8A%94-%EC%9D%B4%EC%8A%88\">앗, 그래도 여전히 남아있는 이슈</a></li>\n<li><a href=\"#defaultprops-deprecate-%EC%98%88%EC%A0%95\">defaultProps deprecate 예정</a></li>\n</ul>"}}]}},"pageContext":{"slug":"/2022-01-16-typescript defaultProps/"}},
    "staticQueryHashes": ["290286666"]}